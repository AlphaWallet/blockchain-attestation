<html>
<head>
    <script type="text/javascript" src="secp256k1_vanilla.js"></script>
    <script type="text/javascript" src="sha3.js"></script>
<!--    <script type="text/javascript" src="raw.js">-->

    </script>
    <script type="text/javascript">
        async function calc() {
            // 0x5ff is ol**.g***.u*@gmail.com Keccak-256 hashed
            hashed_i = BigInt('0x5ffeb9a40ee8c14b5af808c6de5863469ce5ea7933bda393f70ca138a8b2d3c3');
            // secret p value
            secret_p = await Point.generateKey()
            hiding = G.multiplyDA(hashed_i).multiplyDA(secret_p);
            document.getElementById('x_value').innerText = hiding.x;
            document.getElementById('y_value').innerText = hiding.y;
        }
    </script>
</head>
<body>
<table>
    <caption>Cryptographic Hiding</caption>
    <tbody>
    <tr><th>x_value</th><td id="x_value">Click "Calculate" to calculate</td></tr>
    <tr><th>y_value</th><td id="y_value">Click "Calculate" to calculate</td></tr>
    </tbody>
</table>
    <button onclick="calc();">
        Calculate
    </button>
<script>
    let amount = 10;
    let receiverId = "test@test.com";
    let type = "mail";
    let validityInMilliseconds = 3600;
    let secret = 93788533537077743486725554978273275173856120927531780306895096610228714487710n;
    let keys = [];

    createCheque(receiverId, type, amount, validityInMilliseconds, keys, secret);
</script>
</body>
</html>
